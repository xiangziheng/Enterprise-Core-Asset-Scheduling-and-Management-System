# 要求
学生需选择合适的增量式软件过程（如敏捷开发、统一软件过程（RUP）等）；
制定项目计划，完成需求分析、面向对象分析（OOA）、面向对象设计（OOD）工作；
设计测试计划及测试用例。
所有代码需提交至 GitHub，同时提交技术报告及演示视频。
# 项目计划
- 名称：==企业核心资产调度管理系统==
## 1. 软件过程模型
- 本项目采用 **增量式敏捷开发 (Agile Development - Scrum)** 模式。  
- 鉴于项目周期短、需求明确，我们将整个开发周期划分为一个 **Sprint (冲刺)**，通过每日站会 (Daily Stand-up) 同步进度，确保快速交付最小可行性产品 (MVP)。
## 2. 团队分工与职责

| 角色               | 成员      | 职责关键词                      | 具体产出物 (Deliverables)             |
| ---------------- | ------- | -------------------------- | -------------------------------- |
| **PM & 架构**      | 姜振坤     | 统筹、核心逻辑设计、演示               | 项目方案、核心逻辑设计、演示视频录制               |
| **主程 (Dev)**     | 宋思泽     | 编码、环境、部署                   | 后端 API、前端页面、数据库结构、核心冲突算法         |
| **内容 (Content)** | 陈奕帆，项子恒 | 项目分析和设计                    | 完成需求分析、面向对象分析（OOA）、面向对象设计（OOD）工作 |
| **测试 (QA)**      | 金胜昔     | 制定测试计划、编写并执行测试用例、Bug 追踪与记录 | 测试用例记录表（Excel/Word）              |
## 3. 技术栈

- 后端：Spring Boot 3.2.0、MyBatis 3.0.3、Java 17、MySQL 8.0
- 前端：Vue 3（CDN）、Element Plus、Axios
- 构建：Maven

---
# OOA
#### 1. 需求综述（需要补充）

系统旨在解决企业内部核心资产（如服务器、会议室、昂贵设备）在多项目间的分配与调度问题，核心痛点在于**防止资源在同一时间段内被重复分配（即冲突检测）**。

#### 2. 用例描述 (Use Cases)

- **UC01 资源管理**：管理员可录入资产信息，指定其类别（Category）。
    
- **UC02 项目管理**：创建需要使用资源的项目（Project）。
    
- **UC03 资源分配 (核心)**：将指定资源在特定时间段内分配给某项目。
    
- **UC04 冲突检测 (核心)**：系统自动检测新分配的时间段是否与已有分配重叠，若重叠则触发 Conflict 异常。
    

#### 3. 领域模型 (Domain Model)

- **Resource (资源)**：企业拥有的实体资产，具有唯一标识。
    
- **Category (类别)**：资源的分类（如：计算资源、场地资源）。
    
- **Project (项目)**：资源的使用方。
    
- **Allocation (分配)**：关联资源与项目的中间对象，包含 startTime 和 endTime。
    
- **Conflict (冲突)**：当分配发生时间重叠时产生的逻辑概念。
# OOD
#### 1. 类图设计 (Class Diagram)

(建议在 Word 中插入由 StarUML 或 ProcessOn 导出的类图，以下为文字描述)

- **Category**: id (Long), name (String)
    
- **Resource**: id (Long), name (String), categoryId (Long), status (Enum)
    
- **Project**: id (Long), name (String), manager (String)
    
- **Allocation**: id (Long), resourceId (Long), projectId (Long), startTime (Date), endTime (Date)
    
- **AllocationService**:
    
    - + createAllocation(Allocation dto): boolean
        
    - + checkConflict(resourceId, start, end): boolean
        

#### 2. 核心冲突检测算法设计
```
        // 冲突检测（排除当前记录）
        ConflictType conflictType = detectConflictType(
                request.getResourceId(),
                request.getStartTime(),
                request.getEndTime(),
                id
        );
        
        if (conflictType == ConflictType.HARD) {
            throw new ResourceConflictException(
                    String.format("资源在时间段 [%s ~ %s] 内已被占用，更新失败！", 
                            request.getStartTime(), request.getEndTime())
            );
        }
        if (conflictType == ConflictType.SOFT) {
            log.warn("资源分配软冲突: resourceId={}, startTime={}, endTime={}",
                    request.getResourceId(), request.getStartTime(), request.getEndTime());
        }
```

#### 3. 数据库设计 (Schema)

- **t_resource**: id (PK), name, category_id (FK)
    
- **t_project**: id (PK), name, description
    
- **t_allocation**: id (PK), resource_id (FK), project_id (FK), start_time, end_time

---
# 测试
#### 1. 测试环境

- **OS**: Windows 11 / macOS
    
- **Browser**: Chrome v120.0
    
- **Database**: MySQL / H2 In-memory
    

#### 2. 关键测试用例表 (Test Cases)

| ID        | 模块           | 测试场景       | 输入数据                                  | 预期结果            | 测试结果 |
| --------- | ------------ | ---------- | ------------------------------------- | --------------- | ---- |
| **TC-01** | Resource     | 新增合法资源     | Name="GPU服务器01", Type="服务器"           | 列表显示该记录         | Pass |
| **TC-02** | Allocation   | 正常分配资源     | Res="GPU01", Proj="AI训练", **1.1-1.5** | 分配成功，写入数据库      | Pass |
| **TC-03** | **Conflict** | **完全重叠冲突** | Res="GPU01", Proj="渲染", **1.2-1.4**   | **系统报错：资源时间冲突** | Pass |
| **TC-04** | **Conflict** | **部分重叠冲突** | Res="GPU01", Proj="渲染", **1.4-1.6**   | **系统报错：资源时间冲突** | Pass |
| **TC-05** | **Conflict** | **边界条件测试** | Res="GPU01", Proj="渲染", **1.5-1.7**   | 分配成功 (视业务逻辑定)   | Pass |
| **TC-06** | Project      | 资源占用查询     | 选择"GPU01"                             | 显示甘特图或占用列表      | Pass |
